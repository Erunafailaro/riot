<beans
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:tx="http://www.springframework.org/schema/tx"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans
		http://www.springframework.org/schema/beans/spring-beans-2.5.xsd
		http://www.springframework.org/schema/context         
 		http://www.springframework.org/schema/context/spring-context-2.5.xsd
		http://www.springframework.org/schema/tx
		http://www.springframework.org/schema/tx/spring-tx-2.5.xsd">

	<description>
		Root application context (Riot Core)
	</description>
	
	<context:annotation-config />
	<tx:annotation-driven />

	<bean id="configurer" class="org.riotfamily.common.beans.config.PlaceholderWithDefaultConfigurer">
		<description>
			Configurer that fills in placeholders from application.properties
		</description>
		<property name="location" value="classpath:/application.properties" />
		<property name="ignoreResourceNotFound" value="true" />
		<property name="contextOverride" value="true" />
	</bean>
	
	<bean id="fileTypeMap" class="org.riotfamily.common.io.MimetypesFileTypeMapFactoryBean">
		<description>
			FileTypeMap that includes some important web-related mime-types
			which are missing in the default map.		
		</description>
		<property name="types">
			<list>
				<value>text/css css</value>
				<value>text/xml xml</value>
				<value>text/javascript js</value>
				<value>image/png png</value>
			</list>
		</property>
	</bean>

	<bean id="riotAccessControlInterceptor" class="org.riotfamily.core.security.session.AccessControlInterceptor" />
	
</beans>