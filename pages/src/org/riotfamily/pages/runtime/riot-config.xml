<?xml version="1.0" encoding="UTF-8"?>
<riot-config
	xmlns="http://www.riotfamily.org/schema/riot/riot-config"
	xmlns:ed="http://www.riotfamily.org/schema/riot/editor-config"
	xmlns:list="http://www.riotfamily.org/schema/riot/list-config"
	xmlns:form="http://www.riotfamily.org/schema/forms/form-config"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="
		http://www.riotfamily.org/schema/riot/riot-config
		http://www.riotfamily.org/schema/riot/riot-config.xsd
		http://www.riotfamily.org/schema/riot/editor-config
		http://www.riotfamily.org/schema/riot/editor-config.xsd
		http://www.riotfamily.org/schema/riot/list-config
		http://www.riotfamily.org/schema/riot/list-config.xsd
		http://www.riotfamily.org/schema/forms/form-config
		http://www.riotfamily.org/schema/forms/form-config.xsd">

	<ed:list id="sitemap" list-ref="locales" icon="sitemap">
		<ed:tree id="pages" list-ref="pages" icon="sitemap">
			<ed:form form-ref="page" label-property="pathComponent" />
		</ed:tree>
	</ed:list>

	<list:list id="locales">
		<list:dao ref="localeRiotDao" />
		<list:columns>
			<list:column renderer="countryFlagRenderer" />
			<list:column property="displayName" />
			<list:command id="stepInto" />
		</list:columns>
	</list:list>

	<list:list id="pages" default-command="stepInto">
		<list:dao ref="pageRiotDao" />
		<list:columns>
			<list:column property="locale" renderer="countryFlagRenderer" />
			<list:column property="pathComponent" />
			<list:command id="moveUp" />
			<list:command id="moveDown" />
			<list:command id="cut" />
			<list:command id="editPage" />
			<list:command id="deletePage" />
			<list:command id="gotoPage" />
			<list:command id="stepInto" />
		</list:columns>
		<list:command id="add"/>
		<list:command id="paste" />
	</list:list>

	<form:form id="page" bean-class="org.riotfamily.pages.Page">
		<form:group label-key="page.location">
			<form:textfield bind="pathComponent" required="true" regex="([A-Za-z0-9_.,-]*|\*)" />
		</form:group>
	</form:form>

</riot-config>